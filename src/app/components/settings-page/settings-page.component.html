<ng-container *transloco="let t; read: 'xxx-settings-page'">
  <mat-card role="region">
    <mat-card-content>
      <mat-action-list>
        <button type="button" mat-list-item [matMenuTriggerFor]="languageMenu">
          <mat-icon aria-hidden="true" matListItemIcon>translate</mat-icon>
          <span matListItemTitle>{{ t('language') }}</span>
          <span matListItemLine>{{ t(settings.language.nameKey) }}</span>
        </button>

        <button type="button" mat-list-item [matMenuTriggerFor]="themeMenu">
          <mat-icon aria-hidden="true" matListItemIcon>palette</mat-icon>
          <span matListItemTitle>{{ t('theme') }}</span>
          <span matListItemLine>{{ t(settings.theme.nameKey) }}</span>
        </button>

        <button type="button" mat-list-item (click)="checkForUpdate()">
          <mat-icon aria-hidden="true" matListItemIcon>sync</mat-icon>
          <span matListItemTitle>{{ t('check-for-update') }}</span>
          <span matListItemLine>{{
            t('last-checked', {
              value: lastUpdateCheck
            })
          }}</span>
        </button>

        <button type="button" mat-list-item (click)="reload()">
          <mat-icon aria-hidden="true" matListItemIcon>refresh</mat-icon>
          <span matListItemTitle>{{ t('reload') }}</span>
          <span matListItemLine>{{ t('reload-description') }}</span>
        </button>

        <button type="button" mat-list-item (click)="reset()">
          <mat-icon aria-hidden="true" matListItemIcon>restart_alt</mat-icon>
          <span matListItemTitle>{{ t('reset') }}</span>
          <span matListItemLine>{{ t('reset-description') }}</span>
        </button>
      </mat-action-list>
    </mat-card-content>
  </mat-card>

  <hr class="xxx-invisible" />

  <div style="text-align: center">
    <pre>v{{ version }}</pre>
  </div>

  <mat-menu xPosition="before" #languageMenu="matMenu">
    @for (language of languages; track language.value) {
      <button
        [disabled]="settings.language.value === language.value"
        (click)="setLanguage(language)"
        type="button"
        mat-menu-item
      >
        <mat-icon>{{ language.icon }}</mat-icon>
        <span>{{ t(language.nameKey) }}</span>
      </button>
    }
  </mat-menu>

  <mat-menu xPosition="before" #themeMenu="matMenu">
    @for (theme of themes; track theme.value) {
      <button
        [disabled]="settings.theme.value === theme.value"
        (click)="setTheme(theme)"
        type="button"
        mat-menu-item
      >
        <mat-icon>{{ theme.icon }}</mat-icon>
        <span>{{ t(theme.nameKey) }}</span>
      </button>
    }
  </mat-menu>
</ng-container>
