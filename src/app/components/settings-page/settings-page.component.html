<ng-container *transloco="let t">
  <jet-page
    [seoDescription]="t('jet-settings-page.seo.description')"
    [seoKeywords]="t('jet-settings-page.seo.keywords')"
    [seoTitle]="t('jet-settings-page.seo.title')"
    [toolbarTitle]="t('jet-settings-page.toolbar-title')"
  >
    <mat-card>
      <mat-card-content>
        <mat-action-list>
          <button
            [matMenuTriggerFor]="languageOptionsMenu"
            jetAnalytics
            jetAnalyticsEventName="Open Language Options"
            mat-list-item
            type="button"
          >
            <mat-icon matListItemIcon>language</mat-icon>
            <span matListItemTitle>{{
              t('jet-settings-page.change-language')
            }}</span>
            <span matListItemLine>{{
              t(settings().languageOption.nameKey)
            }}</span>
          </button>
          <button
            [matMenuTriggerFor]="colorSchemeOptionsMenu"
            jetAnalytics
            jetAnalyticsEventName="Open Color Scheme Options"
            mat-list-item
            type="button"
          >
            <mat-icon matListItemIcon>palette</mat-icon>
            <span matListItemTitle>{{
              t('jet-settings-page.change-color-scheme')
            }}</span>
            <span matListItemLine>{{
              t(settings().colorSchemeOption.nameKey)
            }}</span>
          </button>
          <button
            (click)="checkForUpdate()"
            jetAnalytics
            jetAnalyticsEventName="Check for Updates"
            mat-list-item
            type="button"
          >
            <mat-icon matListItemIcon>sync</mat-icon>
            <span matListItemTitle>{{
              t('jet-settings-page.check-for-updates')
            }}</span>
            <span matListItemLine
              >{{ t('jet-settings-page.last-checked') }}
              {{ lastUpdateCheckTimestamp() | date: 'medium' }}</span
            >
          </button>
          <button
            (click)="reload()"
            jetAnalytics
            jetAnalyticsEventName="Reload"
            mat-list-item
            type="button"
          >
            <mat-icon matListItemIcon>refresh</mat-icon>
            <span matListItemTitle>{{ t('jet-settings-page.reload') }}</span>
            <span matListItemLine>{{
              t('jet-settings-page.reload-description')
            }}</span>
          </button>
          <button
            (click)="reset()"
            jetAnalytics
            jetAnalyticsEventName="Reset"
            mat-list-item
            type="button"
          >
            <mat-icon matListItemIcon>restart_alt</mat-icon>
            <span matListItemTitle>{{ t('jet-settings-page.reset') }}</span>
            <span matListItemLine>{{
              t('jet-settings-page.reset-description')
            }}</span>
          </button>
        </mat-action-list>
      </mat-card-content>
    </mat-card>
    <p style="text-align: center">
      {{ t('jet-settings-page.version', { value: version }) }}
    </p>
    <mat-menu
      #languageOptionsMenu="matMenu"
      xPosition="before"
    >
      @for (languageOption of languageOptions; track languageOption.value) {
        <button
          [disabled]="settings().languageOption.value === languageOption.value"
          [jetAnalyticsEventData]="{ languageOption: languageOption.value }"
          (click)="updateSettings({ languageOption })"
          jetAnalytics
          jetAnalyticsEventName="Select Language Option"
          mat-menu-item
          type="button"
        >
          <mat-icon>{{ languageOption.icon }}</mat-icon>
          <span>{{ t(languageOption.nameKey) }}</span>
        </button>
      }
    </mat-menu>
    <mat-menu
      #colorSchemeOptionsMenu="matMenu"
      xPosition="before"
    >
      @for (
        colorSchemeOption of colorSchemeOptions;
        track colorSchemeOption.value
      ) {
        <button
          [disabled]="
            settings().colorSchemeOption.value === colorSchemeOption.value
          "
          [jetAnalyticsEventData]="{
            colorSchemeOption: colorSchemeOption.value,
          }"
          (click)="updateSettings({ colorSchemeOption })"
          jetAnalytics
          jetAnalyticsEventName="Select Color Scheme Option"
          mat-menu-item
          type="button"
        >
          <mat-icon>{{ colorSchemeOption.icon }}</mat-icon>
          <span>{{ t(colorSchemeOption.nameKey) }}</span>
        </button>
      }
    </mat-menu>
  </jet-page>
</ng-container>
